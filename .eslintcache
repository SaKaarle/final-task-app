[{"C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\index.js":"1","C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\reportWebVitals.js":"2","C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\App.js":"3","C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\components\\CustomerList.js":"4","C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\components\\EditHenk.js":"5","C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\components\\AddHenk.js":"6"},{"size":500,"mtime":499162500000,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"8"},{"size":341,"mtime":1610628769659,"results":"10","hashOfConfig":"8"},{"size":3683,"mtime":1610628651489,"results":"11","hashOfConfig":"8"},{"size":3648,"mtime":1610628406830,"results":"12","hashOfConfig":"8"},{"size":3358,"mtime":1610627997493,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1mqtgno",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\index.js",[],["28","29"],"C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\reportWebVitals.js",[],"C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\App.js",[],"C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\components\\CustomerList.js",["30"],"import React, { useState, useEffect } from \"react\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport EditHenk from \"./EditHenk\";\r\nimport AddHenk from \"./AddHenk\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-material.css\";\r\n//ag-theme material on tärkeä, enemmän asetuksia\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nfunction CustomerList() {\r\n  const [henk, setHenk] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    getHenkilot();\r\n    //console.log(henk)\r\n  }, []);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const getHenkilot = () => {\r\n    fetch(\"https://customerrest.herokuapp.com/api/customers\")\r\n      .then((response) => response.json())\r\n      .then((data) => setHenk(data.content))\r\n      .catch((err) => console.error(err));\r\n    console.log(henk);\r\n  };\r\n\r\n  const updateHenk = (link, tiedot) => {\r\n    fetch(link, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(tiedot),\r\n    })\r\n      .then((_) => getHenkilot())\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  const uusHenk = (uusi) => {\r\n    fetch(\"https://customerrest.herokuapp.com/api/customers\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(uusi),\r\n    })\r\n      .then((response) => getHenkilot())\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  const deleteHenk=(params)=>{\r\n    if (window.confirm(\"Are you sure?\")) {\r\n        //console.log(params.value);\r\n        fetch(params.value, {\r\n          method: \"DELETE\",\r\n        })\r\n          //response\r\n          .then(_ => getHenkilot())\r\n          .then(_ => handleOpen())\r\n          .catch((err) => console.error(err));\r\n      }\r\n  }\r\n\r\n  const columns = [\r\n    { field: \"firstname\", sortable: true, filter: true },\r\n    { field: \"lastname\", sortable: true, filter: true },\r\n    { field: \"streetaddress\", sortable: true, filter: true },\r\n    { field: \"postcode\", sortable: true, filter: true },\r\n    { field: \"city\", sortable: true, filter: true },\r\n    { field: \"email\", sortable: true, filter: true },\r\n    { field: \"phone\", sortable: true, filter: true },\r\n    // links.[0].href ei toimi, ei tykkää hakasuluist\r\n    {\r\n      headerName: \"\",\r\n      field: \"links.0.href\",\r\n      width: 90,\r\n      cellRendererFramework: (params) => (\r\n        <EditHenk updateHenk={updateHenk} params={params} />\r\n      ),\r\n    },\r\n    {\r\n        headerName:\"\",\r\n        field:\"links.0.href\",\r\n        width:90,\r\n        cellRendererFramework:(params)=>(\r\n            <IconButton color=\"secondary\" onClick={()=> deleteHenk(params)}>\r\n                <DeleteIcon fontSize=\"small\"/>\r\n            </IconButton>\r\n        )\r\n    }\r\n  ];\r\n  //props.saveHenk(AddHenk.js) pitää kutsua että voi kutsua uusHenk\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"ag-theme-material\"\r\n        style={{ height: 600, width: \"90%\", margin: \"auto\" }}\r\n      >\r\n        <AddHenk saveHenk={uusHenk} />\r\n\r\n        <AgGridReact\r\n          rowData={henk}\r\n          columnDefs={columns}\r\n          pagination=\"true\"\r\n          paginationPageSize=\"10\"\r\n        ></AgGridReact>\r\n      </div>\r\n      <Snackbar\r\n        open={open}\r\n        onClose={handleClose}\r\n        autoHideDuration={5000}\r\n        message=\"Päivitys suoritettu onnistuneesti\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport default CustomerList;\r\n","C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\components\\EditHenk.js",[],"C:\\Users\\SaKa\\Desktop\\Opiskelu 2020\\Frontend\\final-task-app\\src\\components\\AddHenk.js",[],{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":20,"column":6,"nodeType":"37","endLine":20,"endColumn":8,"suggestions":"38"},"no-native-reassign",["39"],"no-negated-in-lhs",["40"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getHenkilot'. Either include it or remove the dependency array.","ArrayExpression",["41"],"no-global-assign","no-unsafe-negation",{"desc":"42","fix":"43"},"Update the dependencies array to be: [getHenkilot]",{"range":"44","text":"45"},[691,693],"[getHenkilot]"]